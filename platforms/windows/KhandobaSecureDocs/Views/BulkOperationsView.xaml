<Page x:Class="KhandobaSecureDocs.Views.BulkOperationsView"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="20">
            <TextBlock Text="Select Documents" 
                       FontSize="28" 
                       FontWeight="Bold"
                       Margin="0,0,0,10"/>
            <TextBlock x:Name="SelectionCountTextBlock"
                       Text="0 selected"
                       FontSize="16" 
                       Foreground="Gray"/>
        </StackPanel>

        <!-- Action Buttons (shown when items are selected) -->
        <StackPanel Grid.Row="1" 
                    Orientation="Horizontal" 
                    HorizontalAlignment="Right"
                    Spacing="10"
                    Margin="20"
                    x:Name="ActionButtonsPanel"
                    Visibility="Collapsed">
            <Button Content="Archive" 
                    Click="OnBulkArchiveClick"
                    Padding="20,10"
                    x:Name="ArchiveButton"/>
            <Button Content="Delete" 
                    Click="OnBulkDeleteClick"
                    Padding="20,10"
                    Background="Red"
                    Foreground="White"
                    x:Name="DeleteButton"/>
        </StackPanel>

        <!-- Documents List with Checkboxes -->
        <ListView Grid.Row="2" 
                  x:Name="DocumentsListView"
                  SelectionMode="None"
                  Margin="20,0">
            <ListView.ItemTemplate>
                <DataTemplate>
                    <Grid Margin="10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <!-- Checkbox -->
                        <CheckBox Grid.Column="0"
                                  IsChecked="{Binding IsSelected, Mode=TwoWay}"
                                  Margin="0,0,15,0"
                                  VerticalAlignment="Center"/>
                        
                        <!-- Icon -->
                        <SymbolIcon Grid.Column="1"
                                    x:Name="DocumentIcon"
                                    Symbol="Document"
                                    FontSize="24"
                                    Margin="0,0,15,0"/>
                        
                        <!-- Document Info -->
                        <StackPanel Grid.Column="2" VerticalAlignment="Center">
                            <TextBlock Text="{Binding Name}" 
                                       FontSize="18" 
                                       FontWeight="SemiBold"/>
                            <TextBlock x:Name="DocumentTypeText"
                                       FontSize="14" 
                                       Foreground="Gray"/>
                        </StackPanel>
                    </Grid>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>

        <!-- Select All / Deselect All -->
        <StackPanel Grid.Row="2"
                    Orientation="Horizontal"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    Margin="20,10">
            <Button Content="Select All" 
                    Click="OnSelectAllClick"
                    Padding="15,8"
                    x:Name="SelectAllButton"/>
            <Button Content="Clear Selection" 
                    Click="OnClearSelectionClick"
                    Padding="15,8"
                    Margin="10,0,0,0"
                    x:Name="ClearSelectionButton"
                    Visibility="Collapsed"/>
        </StackPanel>
    </Grid>
</Page>
